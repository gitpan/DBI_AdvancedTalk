
<HTML>

<HEAD>

<meta name="GENERATOR" content="Microsoft Internet Assistant for PowerPoint 97">
 <TITLE>Handling errors the smart way</TITLE> 
</HEAD>

<BODY     >

 <H1>Handling errors the smart way</H1> 
 <P><UL>
<LI><H2>So what went wrong?
</H2>
<UL>
$@
<BR><UL>
<LI>holds the text of the error message
</UL>if ($DBI::err && $@ =~ /^(\S+) (\S+) failed: /)
<UL>
<LI>then it was probably a DBI error
<LI>and $1 is the driver class (e.g. DBD::foo::db), $2 is the name of the method (e.g. prepare)
</UL>$DBI::lasth
<UL>
<LI>holds last DBI handle used (not recommended for general use)
</UL>$h-&#062{Statement}
<UL>
<LI>holds the statement text associated with the handle (even if it’s a database handle)
<LI>
</UL></UL></UL><UL>
<LI><H2>$h-&#062{ShowErrorStatement} = 1
</H2>
<UL>
<LI>append $h-&#062{Statement} to RaiseError/PrintError messages:
<LI>DBD::foo::execute failed: duplicate key [for ``insert …’’]
<LI>makes error messages much more useful. Better than using $DBI::lasth
<LI>Many drivers should enable it by default. Inherited by child handles.</UL></UL></P>
<P></P> 
<P>
<TABLE>
  <TD HEIGHT=100 WIDTH=100> <A HREF="tsld042.htm">Previous slide</A> </TD>
  <TD HEIGHT=100 WIDTH=100> <A HREF="tsld044.htm">Next slide</A> </TD>
  <TD HEIGHT=100 WIDTH=150> <A HREF="tsld001.htm">Back to first slide</A> </TD>
  <TD HEIGHT=100 WIDTH=150> <A HREF="sld043.htm">View graphic version</A> </TD>
</TABLE>
<BR>
</P>



</Body>
</HTML>
